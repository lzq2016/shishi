<!-- <nt-header [title]="info.title"></nt-header> -->
<ion-header>
    <ion-navbar>
        <ion-title>
            {{title}}
        </ion-title>
        <!-- <ion-buttons end>
            <button ion-button clear (click)="saveDraft()">
                存草稿
            </button>
        </ion-buttons> -->
        <ion-buttons end style="margin-right: 10px;">
            <button ion-button clear (click)="collection()">
                <ion-icon name="star" class="star1" *ngIf="hasCollected"></ion-icon>
                <ion-icon name="star-outline" class="star" *ngIf="!hasCollected"></ion-icon>
            </button>
        </ion-buttons>
        <ion-buttons end style="margin-right:15px;">
            <button ion-button clear (click)="like()">
                <ion-icon name="heart-outline" class="sc" *ngIf="!hasZan"></ion-icon>
                <ion-icon name="heart" class="sc1" *ngIf="hasZan"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>
<ion-content>
    <div>
        <img style="width:100%;" [src]="info.imgurl">
    </div>
    <div class="acticle-scroll">
        <p class="scroll-text" [innerHTML]="info.text | safeHtml">
    </div>
    <div class="acticle-reply">
        <div *ngFor="let item of user;index as i;" style="padding-top:10px;padding-bottom:10px;border-bottom:1px solid #DEDEDE;">
            <div class="reply-user">
                <div class="reply-head">
                    <div class="reply-head-img">
                        <img src="{{item.userImg}}" (click)="goMe(item.userId)">
                    </div>
                    <div class="reply-info">
                        <div (click)="goMe(item.userId)" class="name">{{item.userName}}</div>
                        <p class="time">16:32</p>
                        <!-- <div class='reply-pp' [ngStyle]="{'background-color':item.sex === 0 ? '#ff3399' : '#488aff' }">{{item.pp}}匹配</div> -->
                    </div>
                    <p class="friend">好友</p>
                </div>
                <!-- <div>
                    <span class="reply-text">
                    <ion-icon ios="ios-thumbs-up" md="md-thumbs-up" style="color:#FF1A36;" *ngIf="item.commentZan"></ion-icon>
                    <ion-icon ios="ios-thumbs-up-outline" md="ios-thumbs-up-outline" (click)="commentZan(item.id)" *ngIf="!item.commentZan"></ion-icon>&nbsp;{{item.zan}}&nbsp;&nbsp;</span>
                    <span class="reply-text"><ion-icon ios="ios-thumbs-down-outline" md="ios-thumbs-down-outline"></ion-icon>{{item.fou}}</span>
                    <span class="reply-text"><ion-icon ios="ios-chatbubbles-outline" md="ios-chatbubbles-outline"></ion-icon>&nbsp;{{item.info}}</span>
                </div> -->
            </div>
            <div style="position: relative;padding-left: 46px;">
                <p (click)="commentDetail(item.id)" class="replycontent">{{item.reply}}</p>
                <div class="mainimg">
                    <div *ngFor="let img of item.plimg" class="imgdiv">
                        <img [src]="img">
                    </div>
                </div>
                <div class="commentWrap">
                    <img src="assets/img/comment1.png" class="commentImg" (click)="addComment(i,item.id)">
                    <img src="assets/img/zan.png" class="zanImg" (click)="commentZan(item.id)" *ngIf="!item.commentZan">
                    <img src="assets/img/zan1.png" class="zanImg" *ngIf="item.commentZan" >
                    <span class="zanNum">{{item.zan}}</span>
                </div>
            </div>
            <div *ngFor="let addzan of item.addZan" style="margin-left:45px;padding-top:10px;border-top:1px solid rgb(236, 234, 234);">
                <div class="reply-user" style="margin-top: 5px;">
                    <div class="reply-head">
                        <div class="reply-head-img" style="width: 40px;height: 40px;">
                            <img src="{{addzan.user.avatar}}" (click)="goMe(addzan.user.id)">
                        </div>
                        <div class="reply-info">
                            <div (click)="goMe(addzan.user.id)" class="name">{{addzan.user.userName}}</div>
                            <p class="time">16:32</p>
                        </div>
                    </div>
                </div>
                <div style="position: relative;">
                    <p class="replycontent">{{addzan.content}}</p>
                    <div class="mainimg">
                        <div *ngFor="let img of addzan.img" class="imgdiv">
                            <img [src]="img">
                        </div>
                    </div>
                    <div class="commentWrap">
                        <img src="assets/img/zan1.png" class="zanImg" *ngIf="addzan.commentZan" >
                        <img src="assets/img/zan.png" class="zanImg" *ngIf="!addzan.commentZan" (click)="addCommentZan(i,addzan.id)">
                        <span class="zanNum">{{addzan.like_count}}</span>
                    </div>
                </div>
            </div>
            <div style="margin-left:45px;border-top:1px solid rgb(236, 234, 234);" *ngIf="item.addZanAction">
                <div style="overflow: hidden;margin-top: 10px;">
                    <div class="reply-head-img" style="width: 40px;height: 40px;float: left;">
                        <img src="assets/img/guide1.jpg">
                    </div>
                    <ion-textarea placeholder="Enter a description" [(ngModel)]="item.addZanContent" style="border: 1px solid rgb(236, 234, 234);border-radius: 3px;float: right;width: 80%;"></ion-textarea>
                </div>
                <div style="overflow: hidden;">
                    <p style="font-size: 14px;color: #fff;background-color:#EF7A7A;width: 40px;height: 25px;line-height: 25px;text-align: center;float: right;border-radius: 3px;" (click)="submitAddZan(i,item.id)">发布</p>
                </div>
            </div>
        </div>
        <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
            <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="加载中...">
            </ion-infinite-scroll-content>
        </ion-infinite-scroll>
    </div>
    <div class="article-wrp">
        <div class="article-btn">
            <button ion-button round color="ss-primary" (click)="makeComment()">
                <ion-icon ios="ios-create-outline" md="ios-create-outline"></ion-icon>
                <span>说说我的想法</span>
            </button>
        </div>
    </div>
</ion-content>